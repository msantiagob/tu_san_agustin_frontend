---
import { Image } from 'astro:assets';

// Import images
import imgQuinceanos from '../../assets/images/home/fiesta-quince.webp';
import imgGastronomia from '../../assets/images/home/gastronomia.webp';
import imgLugares from '../../assets/images/home/Montview.jpeg';
import imgBodas from '../../assets/images/home/bodas.webp';
import imgBannerMomentos from '../../assets/images/home/recurso-12-81.webp';
import imgBannerBodas from '../../assets/images/home/banner-bodas-slide.avif';
import imgBannerDomicilios from '../../assets/images/home/catering.webp';
import imgQuinceGRN from '../../assets/images/home/GRN2683.webp';
---

<div class="w-[calc(100%-8px)]  md:w-[calc(100%-16px)] max-w-[2000px] h-[650px] md:h-[800px] relative rounded-[2rem] md:rounded-[3rem] overflow-hidden mx-auto">

    <div class="swiper mySwiper w-full h-full">
        <div class="swiper-wrapper">

            <!-- Momentos para toda la vida -->
            <div class="swiper-slide relative">
                <Image
                    src={imgBannerMomentos}
                    class="absolute inset-0 w-full h-full object-cover"
                    style="object-position: center 85%;"
                    alt="Momentos para toda la vida"
                    loading="eager"
                    fetchpriority="high"
                    width={1600}
                    height={900}
                    widths={[480, 768, 1024, 1280, 1600]}
                    sizes="(max-width: 768px) 100vw, 1600px"
                    format="avif"
                    quality={65}
                />
                <!-- <div class="absolute inset-0 bg-black/30"></div> -->
                <div class="relative z-10 h-full flex flex-col items-center justify-center text-center px-4 pb-24 md:pb-20">
                    <h1 class="text-3xl md:text-5xl lg:text-6xl font-medium text-white drop-shadow-lg leading-tight">
                        Momentos para toda la vida
                    </h1>
                    <br>
                  <a href="https://wa.me/573168753305?text=Hola!" class="action-btn w-full md:w-auto ">
                Agenda una asesoría
            </a>
                </div>
            </div>
            <div class="swiper-slide relative">
                <Image
                    src={imgQuinceanos}
                    class="absolute inset-0 w-full h-full object-cover"
                    style="object-position: center 15%;"
                    alt="Fiesta de Quinceaños"
                    loading="lazy"
                    width={1600}
                    height={900}
                    widths={[480, 768, 1024, 1280, 1600]}
                    sizes="(max-width: 768px) 100vw, 1600px"
                    format="avif"
                    quality={65}
                    decoding="async"
                />
                <!-- <div class="absolute inset-0 bg-black/40"></div> -->
                <div class="relative z-10 h-full flex flex-col items-center justify-center text-center px-4 pb-24 md:pb-20">
                    <h1 class="text-4xl md:text-7xl text-white drop-shadow-lg">
                        Fiesta de quince años
                    </h1> <br>
                    <a href="https://wa.me/573168753305?text=Hola!" class="action-btn w-full md:w-auto">
                        Agenda una asesoría
                    </a>
                </div>
            </div>

            <!-- Fiesta de quince años (GRN) -->
            <div class="swiper-slide relative">
                <Image
                    src={imgQuinceGRN}
                    class="absolute inset-0 w-full h-full object-cover"
                    style="object-position: center 15%;"
                    alt="Fiesta de quince años"
                    loading="lazy"
                    width={1600}
                    height={900}
                    widths={[480, 768, 1024, 1280, 1600]}
                    sizes="(max-width: 768px) 100vw, 1600px"
                    format="avif"
                    quality={65}
                    decoding="async"
                />
                <!-- <div class="absolute inset-0 bg-black/40"></div> -->
                <div class="relative z-10 h-full flex flex-col items-center justify-center text-center px-4 pb-24 md:pb-20">
                    <h1 class="text-4xl md:text-7xl text-white drop-shadow-lg">
                        Fiesta de 15 años
                    </h1> <br>
                    <a href="https://wa.me/573168753305?text=Hola!" class="action-btn w-full md:w-auto">
                        Agenda una asesoría
                    </a>
                </div>
            </div>

            <!-- Gastronomía -->
            <div class="swiper-slide relative">
                <Image
                    src={imgGastronomia}
                    class="absolute inset-0 w-full h-full object-cover"
                    style="object-position: center 15%;"
                    alt="Gastronomía"
                    loading="lazy"
                    width={1600}
                    height={900}
                    widths={[480, 768, 1024, 1280, 1600]}
                    sizes="(max-width: 768px) 100vw, 1600px"
                    format="avif"
                    quality={65}
                    decoding="async"
                />
                <!-- <div class="absolute inset-0 bg-black/40"></div> -->
                <div class="relative z-10 h-full flex flex-col items-center justify-center text-center px-4 pb-24 md:pb-20">
                    <h1 class="text-4xl md:text-7xl text-white drop-shadow-lg">
                        Gastronomía
                    </h1> <br>
                    <a href="https://wa.me/573168753305?text=Hola!" class="action-btn w-full md:w-auto">
                        Agenda una asesoría
                    </a>
                </div>
            </div>

            <!-- Lugares para eventos -->
            <div class="swiper-slide relative">
                <Image
                    src={imgLugares}
                    class="absolute inset-0 w-full h-full object-cover"
                    style="object-position: center 15%;"
                    alt="Lugares para eventos"
                    loading="lazy"
                    width={1600}
                    height={900}
                    widths={[480, 768, 1024, 1280, 1600]}
                    sizes="(max-width: 768px) 100vw, 1600px"
                    format="avif"
                    quality={65}
                    decoding="async"
                />
                <!-- <div class="absolute inset-0 bg-black/40"></div> -->
                <div class="relative z-10 h-full flex flex-col items-center justify-center text-center px-4 pb-24 md:pb-20">
                    <h1 class="text-4xl md:text-7xl text-white drop-shadow-lg">
                        Lugares para eventos
                    </h1> <br>
                    <a href="https://wa.me/573168753305?text=Hola!" class="action-btn w-full md:w-auto">
                        Agenda una asesoría
                    </a>
                </div>
            </div>

            <!-- Fotografía -->
            <div class="swiper-slide relative">
                <Image
                    src={imgBodas}
                    class="absolute inset-0 w-full h-full object-cover"
                    style="object-position: center 75%;"
                    alt="Fotografía"
                    loading="lazy"
                    width={1600}
                    height={900}
                    widths={[480, 768, 1024, 1280, 1600]}
                    sizes="(max-width: 768px) 100vw, 1600px"
                    format="avif"
                    quality={65}
                    decoding="async"
                />
                <!-- <div class="absolute inset-0 bg-black/40"></div> -->
                <div class="relative z-10 h-full flex flex-col items-center justify-center text-center px-4 pb-24 md:pb-20">
                    <h1 class="text-4xl md:text-7xl text-white drop-shadow-lg">
                        Galeria
                    </h1> <br>
                    <a href="https://wa.me/573168753305?text=Hola!" class="action-btn w-full md:w-auto">
                        Agenda una asesoría
                    </a>
                </div>
            </div>

            <!-- Bodas -->
            <div class="swiper-slide relative">
                <Image
                    src={imgBannerBodas}
                    class="absolute inset-0 w-full h-full object-cover"
                    style="object-position: center 15%;"
                    alt="Bodas"
                    loading="lazy"
                    width={1600}
                    height={900}
                    widths={[480, 768, 1024, 1280, 1600]}
                    sizes="(max-width: 768px) 100vw, 1600px"
                    format="avif"
                    quality={65}
                    decoding="async"
                />
                <!-- <div class="absolute inset-0 bg-black/40"></div> -->
                <div class="relative z-10 h-full flex flex-col items-center justify-center text-center px-4 pb-24 md:pb-20">
                    <h1 class="text-4xl md:text-7xl text-white drop-shadow-lg">
                        Bodas
                    </h1> <br>
                    <a href="https://wa.me/573168753305?text=Hola!" class="action-btn w-full md:w-auto">
                        Agenda una asesoría
                    </a>
                </div>
            </div>

            <!-- Catering-->
            <div class="swiper-slide relative">
                <Image
                    src={imgBannerDomicilios}
                    class="absolute inset-0 w-full h-full object-cover"
                    style="object-position: center 15%;"
                    alt="Domicilios"
                    loading="lazy"
                    width={1600}
                    height={900}
                    widths={[480, 768, 1024, 1280, 1600]}
                    sizes="(max-width: 768px) 100vw, 1600px"
                    format="avif"
                    quality={65}
                    decoding="async"
                />
                <!-- <div class="absolute inset-0 bg-black/40"></div> -->
                <div class="relative z-10 h-full flex flex-col items-center justify-center text-center px-4 pb-24 md:pb-20">
                    <!-- Title smaller as requested -->
                    <h2 class="text-3xl md:text-5xl text-white drop-shadow-lg font-medium">
                        Catering
                    </h2> <br>
                    <a href="https://wa.me/573168753305?text=Hola!" class="action-btn w-full md:w-auto">
                        Agenda una asesoría
                    </a>
                </div>
            </div>
        </div>

        <!-- Navigation Arrows -->
        <div class="swiper-button-prev-banner absolute left-2 md:left-8 top-1/2 -translate-y-1/2 z-50 text-white/70 hover:text-white cursor-pointer transition-all hover:scale-110">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
        </div>
        <div class="swiper-button-next-banner absolute right-2 md:right-8 top-1/2 -translate-y-1/2 z-50 text-white/70 hover:text-white cursor-pointer transition-all hover:scale-110">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
        </div>

    </div>



    <div class="absolute top-0 left-0 right-0 z-30 w-full px-4 py-8 md:px-12 md:py-10 flex flex-col md:flex-row items-center justify-between gap-5 bg-gradient-to-b from-black/80 via-black/40 to-transparent">

        <div class="hidden md:flex flex-1 justify-start gap-8 pb-3 items-center">
    <a href="https://www.tusanagustin.com/" class="nav-text-link">Inicio</a>

    <!-- Eventos Dropdown -->
    <div class="relative group">
        <button class="nav-text-link flex items-center gap-1 focus:outline-none">
            Eventos
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transition-transform group-hover:rotate-180"><path d="m6 9 6 6 6-6"/></svg>
        </button>
        <div class="absolute top-full left-0 mt-2 w-56 bg-white/95 backdrop-blur-md rounded-xl shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform origin-top-left -translate-y-2 group-hover:translate-y-0 text-left overflow-hidden border border-white/20">
            <a href="https://www.tusanagustin.com/eventos/bodas" class="block px-6 py-3 text-gray-800 hover:bg-[#4EAC9F] hover:text-white transition-colors font-medium border-b border-gray-100 last:border-0">Bodas</a>
            <a href="https://www.tusanagustin.com/eventos/bodas-destino" class="block px-6 py-3 text-gray-800 hover:bg-[#4EAC9F] hover:text-white transition-colors font-medium border-b border-gray-100 last:border-0">Bodas Destino</a>
            <a href="https://www.tusanagustin.com/eventos/15-anos" class="block px-6 py-3 text-gray-800 hover:bg-[#4EAC9F] hover:text-white transition-colors font-medium border-b border-gray-100 last:border-0">Quinces Años</a>
            <a href="https://www.tusanagustin.com/eventos/corporativos" class="block px-6 py-3 text-gray-800 hover:bg-[#4EAC9F] hover:text-white transition-colors font-medium border-b border-gray-100 last:border-0">Corporativos</a>
            <a href="https://www.tusanagustin.com/eventos/sociales" class="block px-6 py-3 text-gray-800 hover:bg-[#4EAC9F] hover:text-white transition-colors font-medium border-b border-gray-100 last:border-0">Sociales</a>
        </div>
    </div>

    <!-- Servicios Dropdown -->
    <div class="relative group">
        <button class="nav-text-link flex items-center gap-1 focus:outline-none">
            Servicios
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transition-transform group-hover:rotate-180"><path d="m6 9 6 6 6-6"/></svg>
        </button>
        <div class="absolute top-full left-0 mt-2 w-72 bg-white/95 backdrop-blur-md rounded-xl shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 transform origin-top-left -translate-y-2 group-hover:translate-y-0 text-left overflow-hidden border border-white/20">
            <a href="https://www.tusanagustin.com/servicios/catering" class="block px-6 py-3 text-gray-800 hover:bg-[#4EAC9F] hover:text-white transition-colors font-medium border-b border-gray-100 last:border-0">Catering</a>
            <a href="https://www.tusanagustin.com/servicios/decoracion" class="block px-6 py-3 text-gray-800 hover:bg-[#4EAC9F] hover:text-white transition-colors font-medium border-b border-gray-100 last:border-0">Decoración</a>
            <a href="https://www.tusanagustin.com/servicios/event-wedding-planner" class="block px-6 py-3 text-gray-800 hover:bg-[#4EAC9F] hover:text-white transition-colors font-medium border-b border-gray-100 last:border-0">Event & Wedding Planner</a>
            <a href="https://www.tusanagustin.com/servicios/lugares" class="block px-6 py-3 text-gray-800 hover:bg-[#4EAC9F] hover:text-white transition-colors font-medium border-b border-gray-100 last:border-0">Lugares para eventos</a>
            <a href="https://www.tusanagustin.com/servicios/artistas" class="block px-6 py-3 text-gray-800 hover:bg-[#4EAC9F] hover:text-white transition-colors font-medium border-b border-gray-100 last:border-0">Artistas y espectáculos</a>
            <a href="https://www.tusanagustin.com/servicios/fotografia" class="block px-6 py-3 text-gray-800 hover:bg-[#4EAC9F] hover:text-white transition-colors font-medium border-b border-gray-100 last:border-0">Fotografía y video</a>
            <a href="https://www.tusanagustin.com/servicios/audiovisuales" class="block px-6 py-3 text-gray-800 hover:bg-[#4EAC9F] hover:text-white transition-colors font-medium border-b border-gray-100 last:border-0">Ayudas audiovisuales</a>
            <a href="https://www.tusanagustin.com/servicios/carros-antiguos" class="block px-6 py-3 text-gray-800 hover:bg-[#4EAC9F] hover:text-white transition-colors font-medium border-b border-gray-100 last:border-0">Carros antiguos</a>
        </div>
    </div>
</div>



       <div class="hidden md:flex flex-1 justify-end gap-8 pb-3 items-center">
    <a href="https://www.tusanagustin.com/blog" class="nav-text-link">Blog</a>
    <a href="https://www.tusanagustin.com/bodas-destino" class="nav-text-link">Bodas de Destino</a>
    <a href="https://www.tusanagustin.com/quienes-somos" class="nav-text-link">Nosotros</a>
</div>
    </div>

    <!-- Search Button Centered at Bottom -->
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 z-40 w-full flex justify-center pointer-events-none">
         <button data-open-search class="action-btn w-auto min-w-[240px] text-lg font-semibold tracking-wide pointer-events-auto transform hover:scale-105 transition-transform shadow-2xl">
            Busca por categoría
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-5 h-5 ml-3 opacity-90">
                <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
            </svg>
        </button>
    </div>
</div>

<style>
    /* Estilo Enlaces de Texto (Solo Desktop) */
    .nav-text-link {
        color: rgba(255, 255, 255, 0.95);
        font-family: 'Playfair Display', serif;
        font-size: 1.25rem; /* Increased size */
        font-weight: 600; /* Increased weight */
        text-decoration: none;
        cursor: pointer; transition: all 0.3s ease;
        text-shadow: 0 4px 8px rgba(0,0,0,0.9); /* Stronger shadow for readability */
        white-space: nowrap;
        letter-spacing: 0.02em;
    }
    .nav-text-link:hover {
        color: #ffffff;
        text-shadow: 0 0 15px rgba(255, 255, 255, 0.9);
        transform: scale(1.05);
    }

    /* ESTILO SÓLIDO PARA LOS BOTONES DE ACCIÓN */
    .action-btn {
        /* El color gris sólido elegante que pediste */
        background-color: #FDF5E9;
        color: black;
        font-family: 'Playfair Display', serif;
        font-size: 0.95rem;
        padding: 12px 24px;
        border-radius: 25px;
        border: 1px solid rgba(255,255,255,0.1); /* Borde sutil */
        transition: all 0.3s ease;
        cursor: pointer;
        text-align: center;
        display: flex; align-items: center; justify-content: center;
        box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    }

    .action-btn:hover {
        background-color: #404040; /* Un poco más claro al pasar el mouse */
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        color: white;
    }

    /* Ajuste móvil: Botones centrados y mejor tamaño */
    @media (max-width: 768px) {
        .action-btn {
            padding: 10px 22px;
            font-size: 0.9rem;
            width: auto;
            max-width: 240px;
        }
    }
</style>

<style is:global>
    /* Elegant Soft Slide & Zoom Transition - Scoped to .mySwiper */
    .mySwiper .swiper-wrapper {
        transition-timing-function: cubic-bezier(0.25, 1, 0.5, 1) !important;
    }

    .mySwiper .swiper-slide {
        will-change: transform;
        width: 100% !important;
        overflow: hidden;
    }

    .mySwiper .swiper-slide img {
        transform: scale(1.1);
        transition: transform 8s cubic-bezier(0.25, 1, 0.5, 1) !important;
    }

    .mySwiper .swiper-slide-active img {
        transform: scale(1);
    }
</style>

<script>
    import Swiper from 'swiper';
    import { Autoplay, Navigation } from 'swiper/modules';
    import 'swiper/css';
    import 'swiper/css/navigation';

    // Defer initialization to avoid forced reflow
    requestAnimationFrame(() => {
        const swiper = new Swiper(".mySwiper", {
            modules: [Autoplay, Navigation],
            loop: true,
            grabCursor: true,
            slidesPerView: 1,
            spaceBetween: 0,
            speed: 1200,
            autoplay: {
                delay: 6000,
                disableOnInteraction: false,
            },
            navigation: {
                nextEl: ".swiper-button-next-banner",
                prevEl: ".swiper-button-prev-banner",
            },
            observer: true,
            observeParents: true,
            updateOnWindowResize: true,
            resizeObserver: true,
            roundLengths: true,
        });
    });
</script>
