---
import '../styles/global.css';
import { Header } from '../components/layout/Header';
import { Footer } from '../components/layout/Footer';
import { HomePage } from '../components/pages/HomePage';
import { wpApi } from '../lib/wordpress';
import logoImage from '../assets/images/Tu-San-Agustin_Logo.png';

// Fetch featured posts for homepage
let featuredPosts = [];
try {
  featuredPosts = await wpApi.getPosts({ per_page: 6, _embed: true });
} catch (error) {
  console.error('Error fetching featured posts:', error);
}
---

<html lang='es'>
  <head>
    <meta charset='utf-8' />
    <meta name='viewport' content='width=device-width, initial-scale=1' />
    <meta name='generator' content={Astro.generator} />
    <title>Tu San Agustín - Eventos y Turismo</title>
    <meta name='description' content='Tu destino para eventos únicos y experiencias turísticas inolvidables en el corazón de San Agustín, Huila.' />
    <link rel='icon' type='image/x-icon' href='/favicon.ico' />
    <link rel='icon' type='image/svg+xml' href='/favicon.svg' />
    <link rel='apple-touch-icon' href='/apple-touch-icon.png' />
    <link rel='manifest' href='/site.webmanifest' />
  </head>

<body>
    <Header client:load logoUrl={logoImage.src} />
    <HomePage client:load featuredPosts={featuredPosts} />
    <Footer client:load />
  </body>
</html>
